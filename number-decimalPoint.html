<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 minimum-scale=1.0 maximum-scale=1.0">
    <meta name="robots" content="noindex,nofollow">
    <meta name="googlebot" content="noindex,nofollow">
    <title>소숫점 자리수 지정하기</title>
    <style>
        body {
            margin: 1rem;
        }

        h2 {
            display: flex;
            align-items: center;
            margin: 2rem 0 10px;
        }

        h2:before {
            content: '';
            width: 7px;
            height: 7px;
            margin: -3px 7px 0 0;
            background: rgba(125, 0, 255, 1);
        }

        h3 {
            margin-top: 0;
            padding-bottom: 7px;
            border-bottom: 1px solid rgba(80, 0, 255, 0.2);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1rem;
        }

        thead {
            background: rgba(125, 0, 255, 0.05);
        }

        th,
        td {
            padding: 10px;
            border: 1px solid rgba(125, 0, 255, 0.1);
        }

        section {
            margin: 2rem 0 5rem;
        }

        .rel {
            margin-top: 5rem;
        }
    </style>
</head>

<body>

    <h1>소숫점 자리수 지정하기</h1>

    <h2>Syntax</h2>

    <table>
        <thead>
            <th>메소드</th>
            <th>의미</th>
            <th>반환</th>
        </thead>
        <tbody>
            <tr>
                <th>숫자값.toFixed([자릿수*])</th>
                <td>소수점 이하 자릿수 지정</td>
                <td>문자열</td>
            </tr>
            <tr>
                <th>숫자값.toPrecision([자릿수*])</th>
                <td>자릿수 지정 정밀도 반환</td>
                <td>문자열</td>
            </tr>
        </tbody>
    </table>

    <section>
        <h3>Ex1</h3>
        <script>
            console.log((0.33333).toFixed(2)); // 0.33(문자열)
            console.log((123.5678).toFixed(1)); // 123.6(근사치로 변환)
            console.log((2.4).toFixed(4)); // 2.4000(소수점이 네 자리가 되도록 0으로 채워짐)

            console.log((0.33333).toPrecision(2)); // 0.33 (정밀도 2)
            console.log((123.456).toPrecision(3)); // 123 (정밀도 3)
            console.log((4.56).toPrecision(2)); // 4.6 (근사치 변환)
            console.log((10).toPrecision(4)); // 10.00 (정밀도 4가 되도록 0으로 채움)

        </script>
    </section>

    <section>
        <h3>Ex2</h3>

        <style>
            .timer {
                text-align: center;
            }

            .second {
                font-weight: 600;
                font-size: 3rem;
                color: purple
            }
        </style>

        <div class="timer">
            <div class="second"></div>
        </div>

        <script>
            /** 초 단위용 element  */
            const secondElement = document.querySelector('.second');

            // 15초를 목표치로 지정
            const goalTime = new Date().getTime() + 15 * 1000;

            update();

            /** 프레임 실행하는 함수 */
            function update() {
                // 현재 시각
                const currentTime = new Date().getTime();

                // 목표치까지 남은 시간
                const leftTime = goalTime - currentTime;

                // 남은 시간이 0초 미만이라면 타이머 정지
                if (leftTime <= 0) {
                    secondElement.innerText = '15초가 지났습니다.';
                    return;
                }

                // 초 단위 표시. 밀리초는 소수점 두자리까지
                secondElement.innerText = (leftTime / 1000).toFixed(2);

                // 프레임에서 update() 재실행
                requestAnimationFrame(update);
            }

        </script>
    </section>

    <p class="rel">출처 : 자바스크립트 코드 레시피 278</p>

</body>

</html>